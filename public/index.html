<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MediAI ‚Äì Personal Doctor</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div id="app" class="app-container">
    <div id="landing-screen" class="screen active">
      <div class="landing-content">
        <div class="logo-container"><div class="logo"><svg class="logo-cross" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3"><path d="M12 2v20M2 12h20"/></svg><svg class="logo-brain" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#14B8A6" stroke-width="2"><path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"/><path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"/></svg></div></div>
        <h1 class="app-title">MediAI</h1>
        <p class="app-tagline">Your AI-powered Personal Health Assistant</p>
        <div class="cta-buttons">
          <button class="btn btn-primary" onclick="navigateTo('register')">Get Started</button>
          <button class="btn btn-outline" onclick="navigateTo('login')">Login</button>
        </div>
        <p class="disclaimer">Not a substitute for professional medical advice.<br>Always consult with a healthcare provider.</p>
      </div>
    </div>
    <div id="login-screen" class="screen">
      <div class="header">
        <button class="back-btn" onclick="navigateTo('landing')"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg></button>
        <h2 class="header-title">Login</h2>
      </div>
      <form id="login-form" class="onboarding-form">
        <div class="form-group"><label for="login-email">Email</label><input type="email" id="login-email" placeholder="you@example.com" required></div>
        <div class="form-group"><label for="login-password">Password</label><input type="password" id="login-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required></div>
        <p id="login-error" class="text-danger small mb-3" style="display:none;"></p>
        <div class="fixed-bottom"><button type="submit" class="btn btn-primary btn-full">Sign in</button></div>
      </form>
    </div>
    <div id="register-screen" class="screen">
      <div class="header">
        <button class="back-btn" onclick="navigateTo('landing')"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg></button>
        <h2 class="header-title">Create account</h2>
      </div>
      <form id="register-form" class="onboarding-form">
        <div class="form-group"><label for="reg-name">Full name</label><input type="text" id="reg-name" placeholder="Your name" required minlength="2"></div>
        <div class="form-group"><label for="reg-email">Email</label><input type="email" id="reg-email" placeholder="you@example.com" required></div>
        <div class="form-group"><label for="reg-password">Password</label><input type="password" id="reg-password" placeholder="Min 8 characters" required minlength="8"></div>
        <p id="register-error" class="text-danger small mb-3" style="display:none;"></p>
        <div class="fixed-bottom"><button type="submit" class="btn btn-primary btn-full">Register</button></div>
      </form>
    </div>
    <div id="onboarding-screen" class="screen">
      <div class="header"><button class="back-btn" onclick="navigateTo('dashboard')"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg></button><h2 class="header-title">Profile</h2></div>
      <form id="onboarding-form" class="onboarding-form">
        <div class="form-group"><label for="age">Age</label><input type="number" id="age" placeholder="30" min="1" max="150"></div>
        <div class="form-group"><label for="gender">Gender</label><select id="gender"><option value="">Select</option><option value="male">Male</option><option value="female">Female</option><option value="other">Other</option></select></div>
        <div class="form-row"><div class="form-group"><label for="height">Height (cm)</label><input type="number" id="height" placeholder="170"></div><div class="form-group"><label for="weight">Weight (kg)</label><input type="number" id="weight" placeholder="70" step="0.1"></div></div>
        <div class="form-group"><label for="medicalHistory">Medical history</label><textarea id="medicalHistory" rows="2" placeholder="Past conditions..."></textarea></div>
        <div class="form-group"><label for="allergies">Allergies</label><textarea id="allergies" rows="2" placeholder="Known allergies..."></textarea></div>
        <div class="form-group"><label for="medications">Medications</label><textarea id="medications" rows="2" placeholder="Current medications..."></textarea></div>
      </form>
      <div class="fixed-bottom"><button type="submit" form="onboarding-form" class="btn btn-primary btn-full">Save profile</button></div>
    </div>
    <div id="dashboard-screen" class="screen">
      <div class="dashboard-header">
        <div class="dashboard-header-content">
          <div><h1 class="dashboard-title">Hello, <span id="user-name">User</span> üëã</h1><p class="dashboard-subtitle">How are you feeling today?</p></div>
          <button class="theme-toggle" id="theme-toggle"><svg class="icon-sun" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="4"/><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg><svg class="icon-moon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none;"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg></button>
        </div>
      </div>
      <div class="dashboard-content">
        <div class="symptom-card card">
          <div class="symptom-card-header"><div class="symptom-icon">ü©∫</div><h2>Describe your symptoms</h2></div>
          <textarea id="symptom-input" placeholder="Tell me what you're experiencing..." rows="4"></textarea>
          <div class="symptom-actions"><button class="btn btn-primary" id="submit-symptom" onclick="submitSymptom()">Submit</button></div>
        </div>
        <div class="quick-symptoms-section"><h3 class="section-title">Quick symptoms</h3><div class="quick-symptoms-grid">
          <button class="quick-symptom-btn" onclick="quickSymptom('Fever')">Fever</button><button class="quick-symptom-btn" onclick="quickSymptom('Headache')">Headache</button><button class="quick-symptom-btn" onclick="quickSymptom('Stomach Pain')">Stomach Pain</button>
          <button class="quick-symptom-btn" onclick="quickSymptom('Cough')">Cough</button><button class="quick-symptom-btn" onclick="quickSymptom('Chest Pain')">Chest Pain</button><button class="quick-symptom-btn" onclick="quickSymptom('Fatigue')">Fatigue</button>
        </div></div>
        <div class="health-tip-card"><div class="health-tip-icon">üí°</div><div><h3>Daily Health Tip</h3><p>Stay hydrated! Aim to drink at least 8 glasses of water throughout the day.</p></div></div>
      </div>
      <nav class="bottom-nav">
        <button class="nav-item active" data-nav="home" onclick="setActiveNav('home')"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg><span>Home</span></button>
        <button class="nav-item" data-nav="history" onclick="navigateTo('history')"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg><span>History</span></button>
        <button class="nav-item" data-nav="profile" onclick="navigateTo('onboarding')"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg><span>Profile</span></button>
        <a id="admin-link" class="nav-item" href="admin.html" style="display:none;"><span>Admin</span></a>
      </nav>
    </div>
    <div id="chat-screen" class="screen">
      <div class="header chat-header"><button class="back-btn" onclick="navigateTo('dashboard')"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg></button><div class="doctor-info"><h2>MediAI</h2><p>AI Medical Assistant</p></div></div>
      <p class="chat-disclaimer">Not a substitute for professional medical advice.</p>
      <div class="chat-content" id="chat-messages"></div>
      <div id="ai-response" class="ai-response" style="display:none;">
        <div class="card"><h3 class="card-title">üìã Summary</h3><p id="ai-summary-text" class="summary-text"></p></div>
        <div class="card"><h3 class="card-title">üîç Possible Causes</h3><div id="ai-causes-list" class="causes-list"></div></div>
        <div class="card red-flags"><h3 class="card-title">Red Flags</h3><ul id="ai-red-flags-list" class="red-flags-list"></ul></div>
        <div class="card"><h3 class="card-title">‚úÖ Recommendations</h3><ul id="ai-next-steps-list" class="next-steps-list"></ul></div>
        <div class="action-buttons"><button class="btn btn-danger" onclick="showEmergencyModal()">Call Emergency</button></div>
      </div>
    </div>
    <div id="history-screen" class="screen">
      <div class="header"><button class="back-btn" onclick="navigateTo('dashboard')"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg></button><h2 class="header-title">Consultation History</h2></div>
      <div class="history-content"><p class="history-subtitle">Your previous consultations</p><div id="history-list" class="history-list"></div><p id="history-footer" class="history-footer"></p></div>
    </div>
    <div id="emergency-modal" class="modal"><div class="modal-overlay" onclick="hideEmergencyModal()"></div><div class="modal-content"><div class="modal-header-red"><h2>Emergency</h2></div><div class="modal-body"><button class="btn btn-danger btn-full" onclick="window.location.href='tel:911'">Call 911</button><button class="btn btn-ghost btn-full" onclick="hideEmergencyModal()">Close</button></div></div></div>
  </div>
  <div id="toast-container" class="toast-container" aria-live="polite"></div>
  <script>window.MediaiApiBase = '';</script>
  <script src="js/api.service.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/navigation.js"></script>
  <script src="js/onboarding.js"></script>
  <script src="js/dashboard.js"></script>
  <script src="js/chat.js"></script>
  <script src="js/history.js"></script>
  <script src="js/app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
